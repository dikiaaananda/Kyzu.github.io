<!doctype html>
<html lang="id">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Semua Game - KYZU Gaming Store</title>
  <link rel="icon" type="image/png" href="images/kyzu-logo.png" />
  <link rel="apple-touch-icon" href="images/kyzu-logo.png" />
  <link rel="stylesheet" href="styles.css">
</head>
<body>

  <!-- Header -->
  <header>
    <img src="images/maskot logo.png" alt="KYZU Logo" class="logo-img"> 
    <div class="logo">KYZU <span>Gaming Store</span></div>
    <nav>
      <a href="index.html">Home</a>
      <a href="contact.html">Hubungi Kami</a>
      <a href="review.html">Lihat Ulasan</a>
    </nav>
  </header>

  <!-- Game List -->
  <h2 class="section-title" id="games">Semua Game</h2>
  <div class="search-bar-container">
    <input type="text" id="game-search-input" placeholder="Cari game berdasarkan nama...">
  </div>
  <div class="grid-5-cols" id="all-games-list"></div>

  <!-- Footer -->
  <footer>
    Â© 2025 KYZU Gaming Store. Semua game adalah produk digital resmi.
  </footer>

  <script>
    document.addEventListener('DOMContentLoaded', () => {
      const gameListContainer = document.getElementById('all-games-list');
      const gameSearchInput = document.getElementById('game-search-input');

      // Fungsi untuk mengambil game dari file JSON
      const getGames = async () => {
        try {
          const response = await fetch('games.json');
          if (!response.ok) {
            throw new Error('Network response was not ok');
          }
          const games = await response.json();
          return games; // Return games for initial storage
        } catch (error) {
          console.error('Error fetching games:', error);
          return [];
        }
      };

      // Fungsi untuk merender satu kartu game
      const renderGameCard = (game) => {
        const card = document.createElement('article');
        card.className = 'card';
        
        // Tombol "Beli Sekarang" akan selalu ditampilkan.
        // Jika game.link kosong, akan menggunakan '#' sebagai placeholder.
        card.innerHTML = `
          <img src="${game.image}" alt="${game.title}">
          <h3>${game.title}</h3>
          <p class="price">${game.price}</p>
          <a href="https://wa.me/6283198167563?text=Saya%20mau%20membeli%20produk%20${encodeURIComponent(game.title)}" class="btn" target="_blank">Beli Sekarang</a>
        `;
        gameListContainer.appendChild(card);
      };

      let allGamesData = []; // Variabel untuk menyimpan semua data game

      // Fungsi untuk memfilter dan merender game berdasarkan istilah pencarian
      const filterAndRenderGames = (searchTerm = '') => {
        gameListContainer.innerHTML = ''; // Kosongkan daftar sebelum merender ulang

        const lowerCaseSearchTerm = searchTerm.toLowerCase().trim();
        const filteredGames = allGamesData.filter(game =>
          game.title.toLowerCase().includes(lowerCaseSearchTerm)
        );

        if (filteredGames.length > 0) {
          filteredGames.forEach(renderGameCard);
        } else {
          gameListContainer.innerHTML = '<p style="text-align: center; grid-column: 1 / -1; background: #fff; padding: 20px; border: 4px solid #000;">Tidak ada game yang cocok dengan pencarian Anda.</p>';
        }
      };

      // Panggil fungsi getGames untuk mengambil data, lalu render semua game
      getGames().then(games => {
        allGamesData = games; // Simpan data game yang diambil
        filterAndRenderGames(); // Render semua game pada awalnya
      });

      // Event listener untuk input pencarian
      gameSearchInput.addEventListener('input', (e) => {
        filterAndRenderGames(e.target.value);
      });
    });
  </script>

</body>
</html>

</body>
</html>
</html>
